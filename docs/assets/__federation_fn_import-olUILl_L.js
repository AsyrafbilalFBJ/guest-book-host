const X="[0-9A-Za-z-]+",P=`(?:\\+(${X}(?:\\.${X})*))`,_="0|[1-9]\\d*",h="[0-9]+",F="\\d*[a-zA-Z-][a-zA-Z0-9-]*",q=`(?:${h}|${F})`,D=`(?:-?(${q}(?:\\.${q})*))`,E=`(?:${_}|${F})`,k=`(?:-(${E}(?:\\.${E})*))`,T=`${_}|x|X|\\*`,d=`[v=\\s]*(${T})(?:\\.(${T})(?:\\.(${T})(?:${k})?${P}?)?)?`,J=`^\\s*(${d})\\s+-\\s+(${d})\\s*$`,Q=`(${h})\\.(${h})\\.(${h})`,W=`[v=\\s]*${Q}${D}?${P}?`,L="((?:<|>)?=?)",Y=`(\\s*)${L}\\s*(${W}|${d})`,B="(?:~>?)",A=`(\\s*)${B}\\s+`,G="(?:\\^)",j=`(\\s*)${G}\\s+`,m="(<|>)?=?\\s*\\*",ee=`^${G}${d}$`,re=`(${_})\\.(${_})\\.(${_})`,te=`v?${re}${k}?${P}?`,ne=`^${B}${d}$`,se=`^${L}\\s*${d}$`,ie=`^${L}\\s*(${te})$|^$`,ue="^\\s*>=\\s*0.0.0\\s*$";function o(e){return new RegExp(e)}function $(e){return!e||e.toLowerCase()==="x"||e==="*"}function H(...e){return n=>e.reduce((i,r)=>r(i),n)}function z(e){return e.match(o(ie))}function U(e,n,i,r){const t=`${e}.${n}.${i}`;return r?`${t}-${r}`:t}function $e(e){return e.replace(o(J),(n,i,r,t,s,u,c,f,a,l,v,p)=>($(r)?i="":$(t)?i=`>=${r}.0.0`:$(s)?i=`>=${r}.${t}.0`:i=`>=${i}`,$(a)?f="":$(l)?f=`<${+a+1}.0.0-0`:$(v)?f=`<${a}.${+l+1}.0-0`:p?f=`<=${a}.${l}.${v}-${p}`:f=`<=${f}`,`${i} ${f}`.trim()))}function ce(e){return e.replace(o(Y),"$1$2$3")}function fe(e){return e.replace(o(A),"$1~")}function ae(e){return e.replace(o(j),"$1^")}function le(e){return e.trim().split(/\s+/).map(n=>n.replace(o(ee),(i,r,t,s,u)=>$(r)?"":$(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:$(s)?r==="0"?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:`>=${r}.${t}.0 <${+r+1}.0.0-0`:u?r==="0"?t==="0"?`>=${r}.${t}.${s}-${u} <${r}.${t}.${+s+1}-0`:`>=${r}.${t}.${s}-${u} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${s}-${u} <${+r+1}.0.0-0`:r==="0"?t==="0"?`>=${r}.${t}.${s} <${r}.${t}.${+s+1}-0`:`>=${r}.${t}.${s} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${s} <${+r+1}.0.0-0`)).join(" ")}function oe(e){return e.trim().split(/\s+/).map(n=>n.replace(o(ne),(i,r,t,s,u)=>$(r)?"":$(t)?`>=${r}.0.0 <${+r+1}.0.0-0`:$(s)?`>=${r}.${t}.0 <${r}.${+t+1}.0-0`:u?`>=${r}.${t}.${s}-${u} <${r}.${+t+1}.0-0`:`>=${r}.${t}.${s} <${r}.${+t+1}.0-0`)).join(" ")}function pe(e){return e.split(/\s+/).map(n=>n.trim().replace(o(se),(i,r,t,s,u,c)=>{const f=$(t),a=f||$(s),l=a||$(u);return r==="="&&l&&(r=""),c="",f?r===">"||r==="<"?"<0.0.0-0":"*":r&&l?(a&&(s=0),u=0,r===">"?(r=">=",a?(t=+t+1,s=0,u=0):(s=+s+1,u=0)):r==="<="&&(r="<",a?t=+t+1:s=+s+1),r==="<"&&(c="-0"),`${r+t}.${s}.${u}${c}`):a?`>=${t}.0.0${c} <${+t+1}.0.0-0`:l?`>=${t}.${s}.0${c} <${t}.${+s+1}.0-0`:i})).join(" ")}function de(e){return e.trim().replace(o(m),"")}function _e(e){return e.trim().replace(o(ue),"")}function w(e,n){return e=+e||e,n=+n||n,e>n?1:e===n?0:-1}function ve(e,n){const{preRelease:i}=e,{preRelease:r}=n;if(i===void 0&&r)return 1;if(i&&r===void 0)return-1;if(i===void 0&&r===void 0)return 0;for(let t=0,s=i.length;t<=s;t++){const u=i[t],c=r[t];if(u!==c)return u===void 0&&c===void 0?0:u?c?w(u,c):-1:1}return 0}function R(e,n){return w(e.major,n.major)||w(e.minor,n.minor)||w(e.patch,n.patch)||ve(e,n)}function V(e,n){return e.version===n.version}function Re(e,n){switch(e.operator){case"":case"=":return V(e,n);case">":return R(e,n)<0;case">=":return V(e,n)||R(e,n)<0;case"<":return R(e,n)>0;case"<=":return V(e,n)||R(e,n)>0;case void 0:return!0;default:return!1}}function he(e){return H(le,oe,pe,de)(e)}function we(e){return H($e,ce,fe,ae)(e.trim()).split(/\s+/).join(" ")}function xe(e,n){if(!e)return!1;const t=we(n).split(" ").map(p=>he(p)).join(" ").split(/\s+/).map(p=>_e(p)),s=z(e);if(!s)return!1;const[,u,,c,f,a,l]=s,v={operator:u,version:U(c,f,a,l),major:c,minor:f,patch:a,preRelease:l?.split(".")};for(const p of t){const y=z(p);if(!y)return!1;const[,M,,I,O,S,g]=y,N={operator:M,version:U(I,O,S,g),major:I,minor:O,patch:S,preRelease:g?.split(".")};if(!Re(N,v))return!1}return!0}const Z={},x={vue:{get:()=>()=>C(new URL("__federation_shared_vue-C8SIZcCA.js",import.meta.url).href),import:!0},vuex:{get:()=>()=>C(new URL("__federation_shared_vuex-BxmY6M9W.js",import.meta.url).href),import:!0},"vue-router":{get:()=>()=>C(new URL("__federation_shared_vue-router-BJWN55XU.js",import.meta.url).href),import:!0}},b=Object.create(null);async function Te(e,n="default"){return b[e]?new Promise(i=>i(b[e])):await be(e,n)||ge(e)}async function C(e){return Z[e]??=import(e),Z[e]}async function be(e,n){let i=null;if(globalThis?.__federation_shared__?.[n]?.[e]){const r=globalThis.__federation_shared__[n][e],t=Object.keys(r)[0],s=Object.values(r)[0];x[e]?.requiredVersion?xe(t,x[e].requiredVersion)?i=await(await s.get())():console.log(`provider support ${e}(${t}) is not satisfied requiredVersion(\${moduleMap[name].requiredVersion})`):i=await(await s.get())()}if(i)return K(i,e)}async function ge(e){if(x[e]?.import){let n=await(await x[e].get())();return K(n,e)}else console.error("consumer config import=false,so cant use callback shared module")}function K(e,n){return typeof e.default=="function"?(Object.keys(e).forEach(i=>{i!=="default"&&(e.default[i]=e[i])}),b[n]=e.default,e.default):(e.default&&(e=Object.assign({},e.default,e)),b[n]=e,e)}export{Te as importShared,ge as importSharedLocal,be as importSharedRuntime};
