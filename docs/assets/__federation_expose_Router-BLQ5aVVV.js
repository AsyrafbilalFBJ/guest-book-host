import{importShared as a}from"./__federation_fn_import-olUILl_L.js";const v={remote_app:{url:"https://asyrafbilalfbj.github.io/guest-book-remote/assets/remoteEntry.js",format:"esm",from:"vite"}},m={},g=async(t,e)=>{const o=typeof t=="function"?await t():t,n=document.createElement("script");n.type="text/javascript",n.onload=e,n.src=o,document.getElementsByTagName("head")[0].appendChild(n)};function l(t,e){return k(t).then(o=>()=>e==="webpack"&&Object.prototype.toString.call(o).indexOf("Module")>-1&&o.default?o.default:o)}function $(t,e){const o=Object.assign(t,e);for(const n of Object.keys(o))typeof o[n]=="object"&&typeof e[n]=="object"&&(o[n]=$(o[n],e[n]));return o}const f=t=>$({vue:{undefined:{get:()=>l(new URL("__federation_shared_vue-C8SIZcCA.js",import.meta.url).href,t),loaded:1}},vuex:{undefined:{get:()=>l(new URL("__federation_shared_vuex-BxmY6M9W.js",import.meta.url).href,t),loaded:1}},"vue-router":{undefined:{get:()=>l(new URL("__federation_shared_vue-router-BJWN55XU.js",import.meta.url).href,t),loaded:1}}},(globalThis.__federation_shared__||{}).default||{});async function k(t){return m[t]??=import(t),m[t]}async function w(t){const e=v[t];if(e.inited)return e.lib;if(e.format==="var")return new Promise(o=>{const n=()=>{e.inited||(e.lib=window[t],e.lib.init(f(e.from)),e.inited=!0),o(e.lib)};return g(e.url,n)});if(["esm","systemjs"].includes(e.format))return new Promise((o,n)=>{(typeof e.url=="function"?e.url:()=>Promise.resolve(e.url))().then(c=>{import(c).then(s=>{if(!e.inited){const u=f(e.from);s.init(u),e.lib=s,e.lib.init(u),e.inited=!0}o(e.lib)}).catch(n)})})}function i(t){return t?.__esModule||t?.[Symbol.toStringTag]==="Module"?t.default:t}function _(t,e){return w(t).then(o=>o.get(e).then(n=>n()))}const d=(t,e)=>{const o=t.__vccOpts||t;for(const[n,r]of e)o[n]=r;return o},V=await _("remote_app","./Login");let b=i(V);const E={components:{Login:b}},{resolveComponent:y,createVNode:N,createElementVNode:B,openBlock:x,createElementBlock:A}=await a("vue"),M={class:"h-screen"},j={class:"flex justify-center items-center min-h-screen"};function C(t,e,o,n,r,c){const s=y("Login");return x(),A("div",M,[B("div",j,[N(s)])])}const L=d(E,[["render",C]]),R=await _("remote_app","./AddMessage");let G=i(R);const S={components:{AddMessage:G}},{resolveComponent:U,createVNode:O,createElementVNode:T,openBlock:z,createElementBlock:P}=await a("vue"),D={class:"h-screen"},H={class:"flex justify-center items-center min-h-screen"};function J(t,e,o,n,r,c){const s=U("AddMessage");return z(),P("div",D,[T("div",H,[O(s)])])}const W=d(S,[["render",J]]),Y=await _("remote_app","./Messages");let q=i(Y);const I={components:{Messages:q}},{resolveComponent:K,createVNode:Q,createElementVNode:X,openBlock:Z,createElementBlock:F}=await a("vue"),ee={class:"h-full"},te={class:"flex flex-col items-center min-h-screen"};function oe(t,e,o,n,r,c){const s=K("Messages");return Z(),F("div",ee,[X("div",te,[Q(s)])])}const ne=d(I,[["render",oe]]),se=await _("remote_app","./AddGuest");let re=i(se);const ce={components:{AddGuest:re}},{resolveComponent:ae,createVNode:ie,createElementVNode:_e,openBlock:de,createElementBlock:le}=await a("vue"),pe={class:"h-screen"},ue={class:"flex justify-center items-center min-h-screen"};function me(t,e,o,n,r,c){const s=ae("AddGuest");return de(),le("div",pe,[_e("div",ue,[ie(s)])])}const fe=d(ce,[["render",me]]),he={},{createElementVNode:p,createTextVNode:$e,resolveComponent:ve,withCtx:ge,createVNode:ke,openBlock:we,createElementBlock:Ve}=await a("vue"),be={class:"h-full"},Ee={class:"flex flex-col justify-center items-center min-h-screen"};function ye(t,e,o,n,r,c){const s=ve("RouterLink");return we(),Ve("div",be,[p("div",Ee,[e[1]||(e[1]=p("p",{class:"font-bold"},"Access Denied",-1)),e[2]||(e[2]=p("p",null,"You do not have permission to access this page.",-1)),ke(s,{to:"/",class:"btn btn-accent"},{default:ge(()=>e[0]||(e[0]=[$e("Go back to Home")])),_:1})])])}const Ne=d(he,[["render",ye]]),{createWebHistory:Be,createRouter:xe}=await a("vue-router"),Ae=await _("remote_app","./store");let h=i(Ae);const Me=xe({history:Be("/guest-book-host"),routes:[{path:"/login",component:L},{path:"/unauthorized",component:Ne},{path:"/",component:ne,meta:{needsAuth:!0}},{path:"/add-message",component:W,meta:{needsAuth:!0,role:"user"}},{path:"/add-guest",component:fe,meta:{needsAuth:!0,role:"admin"}}]});Me.beforeEach((t,e,o)=>{if(t.meta.needsAuth)if(h.state.accessToken){const r=h.state.user.role;return t.meta.role&&t.meta.role!==r?o("/unauthorized"):o()}else return o("/login");o()});export{_,i as a,d as b,Me as default};
